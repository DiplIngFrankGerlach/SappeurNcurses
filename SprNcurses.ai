Import
{
   "Strings.ad",
   "ZKNuetzlich.ad",
   "SprNcurses.ad"

}

void SprNcurses::init()
{
   inline_cpp[[

      initscr();              // Start ncurses mode
      cbreak();               // Disable line buffering
      noecho();               // Don't echo input
      curs_set(0);            // Hide cursor

   ]]
}

void SprNcurses::zeichne(int x, int y, char zeichen)
{
   inline_cpp[[
        move(y, x);
        addch(zeichen);
   ]] 
}

void SprNcurses::auffrischen()
{
   inline_cpp[[ refresh(); ]]
}

int SprNcurses::leseKnopfDruck(&char zeichen)
{
  inline_cpp[[
    timeout(0);  // Set non-blocking input (return immediately)
    zeichen = getch();
    if (zeichen != ERR) 
    {
        return 1; // Key was pressed
    
    }
  ]]
  return 0; // No key press
}

SprNcurses::~SprNcurses()
{
  inline_cpp[[ endwin(); ]]
}

