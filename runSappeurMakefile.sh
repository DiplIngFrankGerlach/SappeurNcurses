#!/bin/bash

###################################################################################################################
###################################################################################################################
###################################################################################################################
#
# Skript zum Ausfuehren eines Makefile-basierten Sappeur Compilerlaufs und zur Erzeugung aller n√∂tigen *.h 
# und *.cpp Dateien
#
###################################################################################################################
###################################################################################################################
###################################################################################################################



###################################################################################################################
# Setze das Sappeur Verzeichnis
###############################
export SPR_VERZ=~/Sappeur4x/ausg/haupt



source "grundlegend.sh"

killCoordinator

###################################################################################################################
# Beende den Sappeur Coordinator und starte neu
###############################################

${SPR_VERZ}/compiler/SPRCoordinator &


make -f Makefile.spr -j 10 $1

###################################################################################################################
# erzeuge die Stack Memory Bestimmung
#####################################
erzeugeStackMemoryBestimmung


###################################################################################################################
# baue die sizeof-Defines zu einer einzigen Header-Datei um
###########################################################
erzeugeSizeofHeader

###################################################################################################################
# Beende den Sappeur Coordinator 
################################
killCoordinator
